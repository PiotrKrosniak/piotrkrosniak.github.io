<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>TabedInfoWindow for Google Fusion Table Layer Map</title> 
<link type="text/css" href="http://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css" rel="stylesheet" />
<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>	
<script src="http://code.jquery.com/jquery-1.9.1.js"></script>
 <script src="http://code.jquery.com/ui/1.10.3/jquery-ui.js"></script>
<link type="text/css" href="default1.css" rel="stylesheet" media="all" />
<script type="text/javascript">//Script to load map and infowindows 
var roadAtlasStyles = [
    {
      featureType: 'all',
      elementType: 'all',
      stylers: [
        { saturation: -90 }
      ]
    }
  ];
var infowindow;
var map;
var layer;
var tableid = '1RVM0V4BN7KUdxxAV9lBtQKy9Wqd804_RdE78Dsc';
var zoom = 2;
var latlng = new google.maps.LatLng(21.994542046671665, -19.86720112499999);
function initialize() {
map = new google.maps.Map(document.getElementById('map_canvas'), {						
center: latlng,
zoom: zoom,
streetViewControl: false,
mapTypeControl: true,
mapTypeIds: [google.maps.MapTypeId.SATELLITE, 'usroadatlas'],
scrollwheel: true,
navigationControl: true,
navigationControlOptions: {style: google.maps.NavigationControlStyle.SMALL,
position: google.maps.ControlPosition.TOP_LEFT}
});
var styledMapOptions = {
name: "Styled"  
};
var usRoadMapType = new google.maps.StyledMapType(
roadAtlasStyles, styledMapOptions);
map.mapTypes.set('usroadatlas', usRoadMapType);
map.setMapTypeId('usroadatlas')
layer = new google.maps.FusionTablesLayer(tableid, {
suppressInfoWindows: true,
styleId: 2, 
map: map
 });

  // Add a click listener to the layer that creates a new infowindow
  // with directions text input
  google.maps.event.addListener(layer, 'click', function(e) {
    if(infowindow) infowindow.close();
    else infowindow = new google.maps.InfoWindow();
    	infowindow.setContent(
	'<div class="tabs">' +
    '<ul>' +
    '<li><a href="#tab-1"><span>Welcome</span></a></li>' + //tabs names
    '<li><a href="#tab-2"><span>Chart</span></a></li>' + //tabs names
    '</ul>' +
    '<div id="tab-1">' + //second tab content
    '<p>Country: <b>' + e.row['Country_Name'].value + '</tr></b></p>' +
    '</div>' +
	'<div id="tab-2">' + //firts tab content 
	'<iframe src="https://www.google.com/fusiontables/embedviz?containerId=googft-gviz-canvas&q=select+col2%3E%3E0%2C+col3%3E%3E0%2C+col4%3E%3E0%2C+col5%3E%3E0%2C+col6%3E%3E0+from+1RVM0V4BN7KUdxxAV9lBtQKy9Wqd804_RdE78Dsc+%20WHERE%20Country_Name=%27'+ e.row['Country_Name'].value +'%27order+by+col3%3E%3E0+asc+limit+1&viz=GVIZ&t=COLUMN&uiversion=2&gco_forceIFrame=true&gco_hasLabelsColumn=true&gco_theme=maximized&gco_title=Life+expectancy+at+birth&width=300&height=150"frameborder="0"; scrolling="no"/>' +
	'</div>');
    infowindow.setPosition(e.latLng);
    infowindow.open(map);
	$(".tabs").tabs();
  });
infoWindow = new google.maps.InfoWindow(); 
}


</script> 
  <link
 href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400,600,700,900%7CQuicksand:400,700%7CQuestrial"
 rel="stylesheet" />
  <link href="default.css" rel="stylesheet"
 type="text/css" media="all" />
  <link href="fonts.css" rel="stylesheet"
 type="text/css" media="all" />
<!--[if IE 6]><link href="default_ie6.css" rel="stylesheet" type="text/css" /><![endif]-->
</head>
<body onload="initialize()">
<a href="https://github.com/piotrkrosniak"><img
 title="Fork me on GitHub"
 style="border: 0px solid ; position: absolute; top: 0pt; right: 0pt; width: 149px; height: 149px;"
 src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png"
 alt="Fork me on GitHub" /></a>
<div id="header-wrapper">
<div id="header" class="container">
<div id="logo">
<h1><a target="_blank"
 href="https://github.com/PiotrKrosniak">InfoWindow charts DEMO</a></h1>
<hr style="border-top: 1px dotted;" /></div>
<div id="menu">
</div>
</div>
<div id="map_canvas" class="container"
 style="width: 1200px; height: 400px;"></div>

</div>
</div>
<div id="page-wrapper">
<div id="page" class="container">
<div id="content">
<div class="title">
<h2>Life expectancy at birth, total (years 1960-2000)</h2>
</div>
<p> Life expectancy at birth, total (years 1960-2000)
Life expectancy at birth, total (years) Life expectancy at birth indicates the number of years a newborn infant would live if prevailing patterns of mortality at the time of its birth were to stay the same throughout its life. 

Derived from male and female life expectancy at birth from sources such as: (1) United Nations Population Division. World Population Prospects, (2) United Nations Statistical Division. Population and Vital Statistics Report (various years), (3) Census reports and other statistical publications from national statistical offices, (4) Eurostat: Demographic Statistics, (5) Secretariat of the Pacific Community: Statistics and Demography Programme, and (6) U.S. Census Bureau: International Database. Catalog Sources World Development Indicators.

Word Bank</a>
</p>
</div>
<div id="sidebar1">
<div class="title">
<h2>Project Info </h2>
</div>
<ul style="font-weight: bold;" class="default">
  <li><span ="">
    <p>Demo Google Chart Inside Google Maps Infowindow</p>
    </span></li>
</ul>
<div class="section">
<p></p>

</span></div>
</div>
</div>
</div>
<div class="wrapper">
<div id="three-column" class="container">
<div id="tbox1">
<div class="title">
<h2>Fork me on GitHub</h2>
</div>
<p>This project it's a collaborative project and that you're
welcomed to add improvements.You are granted full rights to contribute
to the project or use it as a starting point for your own project.</p>
<a target="_blank"
 href="https://github.com/PiotrKrosniak/FusionTablesSlider/fork"
 class="button">Learn More</a> </div>
<div id="tbox2">
<div class="title">
<h2>Visit my blog </h2>
</div>
<p>On my blog you can find tutorials about Geographic Information
System (GIS),Google Maps and how to use Google Fusion table in data
visualization. Please visit me !</p>
<a target="_blank" href="http://piotrgisworks.blogspot.com/"
 class="button">Learn
More</a> </div>
<div id="tbox3">
<div class="title">
<h2>&nbsp;JQuery</h2>
</div>
<p>jQuery is a cross-platform JavaScript library designed to
simplify the client-side scripting of HTML. It was released in January
2006 at BarCamp NYC by John Resig. jQuery is the most popular
JavaScript library in use today</p>
<a target="_blank" href="http://jquery.com/"
 class="button">Learn
More</a> </div>
</div>
</div>
</body>
</html>
